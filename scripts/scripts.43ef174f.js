"use strict";angular.module("itscApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","googlechart","angular-cache"]).config(["$routeProvider",function(a){a.when("/summary",{templateUrl:"views/summary.html",controller:"SummaryCtrl",controllerAs:"summary"}).when("/digital",{templateUrl:"views/digital.html",controller:"DigitalCtrl",controllerAs:"digital"}).when("/software",{templateUrl:"views/software.html",controller:"SoftwareCtrl",controllerAs:"software"}).when("/enterprise",{templateUrl:"views/enterprise.html",controller:"EnterpriseCtrl",controllerAs:"enterprise"}).when("/auctions",{templateUrl:"views/auctions.html",controller:"AuctionsCtrl",controllerAs:"auctions"}).when("/additional",{templateUrl:"views/additional.html",controller:"AdditionalCtrl",controllerAs:"additional"}).otherwise({redirectTo:"/summary"})}]),angular.module("itscApp").controller("MenuCtrl",["$scope","getPageInfo",function(a,b){var c=$(window),d=$("#wrapper"),e=$("#sidebar-wrapper"),f=_.debounce(function(){return c.width()<768?d.removeClass("active"):void 0},30),g=_.debounce(function(){var a=$(window).scrollTop(),b=d.offset().top;a>b?e.addClass("stick"):e.removeClass("stick")},13);c.resize(f).scroll(g),a.menuItems=b.get()}]),angular.module("itscApp").controller("SummaryCtrl",["$scope","$rootScope","getPageInfo","itscData","Dates",function(a,b,c,d,e){function f(){a.impactsData=[],h.forEach(function(a){d.get("sc_daily_composite",moment(e.getFrom()).format("YYYY-MM-DD"),moment(e.getTo()).format("YYYY-MM-DD"),a.dc,null,a.title).then(function(b){d.get("incidents",moment(e.getFrom()).format("ddd, DD MMM YYYY HH:mm:")+"00 GMT",moment(e.getTo()).format("ddd, DD MMM YYYY HH:mm:")+"00 GMT",a.inc).then(function(c){var d={sc:b,inc:c};g(d,a)})})})}function g(b,c){var d={title:c.title,link:c.link,severity:"",uptime:0,impacts:0,mttr:0},f=0,g=0;if(b.sc){for(var h=b.sc.length,i=0;i<b.sc.length;i++)f+=b.sc[i].availability;g=(f/h).toFixed(2)}else g="100%";d.uptime=g;var j=b.inc._items,k=0,l=0,m=j.length;m>0&&(l=j.length,k=j.reduce(function(a,b){return a+Number(b.duration)},0),k=k/j.length/1e6/60,k=Math.round(k)),d.impacts=l,d.mttr=k;var n=moment(e.getTo()).diff(moment(e.getFrom()),"days"),o=Math.ceil(n/7*c.incTarget),p="";p=98>g||l>=1.25*o?"red":g>=98&&g<c.availTarget||l>=o?"yellow":"green",d.severity=p,a.buttonData[c.order]=d,b.inc._items.forEach(function(b){a.impactsData.push({status:b.status,order:Number(moment(b.begin).format("YYMMDD")),unit:c.title,details:{title:b.title,type:b.type,begin:moment(b.begin).format("MMM DD, YYYY h:mm:ss A"),end:moment(b.end).format("MMM DD, YYYY h:mm:ss A"),description:b.summary}})})}a.$on("reload",function(){f()}),a.pageTitle="Summary",a.summaryText="Availability",a.icon=c.get(a.pageTitle,"icon"),a.severity={green:{icon:"glyphicon-ok",color:"#00B200"},yellow:{icon:"glyphicon-warning-sign",color:"#FFCC00"},red:{icon:"glyphicon-remove",color:"#db1818"}};var h=[{title:"Digital",link:"digital",dc:9999010,availTarget:99.5,incTarget:2.5,inc:["AutoTrader.com","AutoTrader Group","Kelley Blue Book"],order:0},{title:"Software",link:"software",dc:9999011,availTarget:99.5,incTarget:2.5,inc:["HomeNet","VinSolutions","vAuto","AIS Rebates","CDMData"],order:1},{title:"Enterprise",link:"enterprise",dc:9999012,availTarget:99.5,incTarget:.5,inc:["Fuel"],order:2},{title:"Auctions",link:"auctions",dc:9999013,availTarget:99.9,incTarget:3.5,inc:["Manheim","Auction Genius"],order:3}];a.buttonData=["a","b","c","d"],f()}]),angular.module("itscApp").controller("DigitalCtrl",["$scope","getPageInfo","itscData","Dates",function(a,b,c,d){a.$on("reload",function(){console.log("test-reload-dude")}),a.pageTitle="Digital Media",a.icon=b.get(a.pageTitle,"icon"),a.severity={green:{icon:"glyphicon-ok",color:"#00B200"},yellow:{icon:"glyphicon-warning-sign",color:"#FFCC00"},red:{icon:"glyphicon-remove",color:"#db1818"}};var e="green",f="yellow",g={division:"Digital_Media",incidentsURI:"https://itsc.autotrader.com:8080/incidents?where={%22unit%22:   [%22AutoTrader.com%22,%22AutoTrader%20Group%22,%22Kelley%20Blue%20Book%22]},%22begin%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=[(%22begin%22,-1)]&max_results=100",description:"",units:[{name:"ATC Web",page_id:"1163980",dataURI:["composite_sc_daily",9999001],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=     [22052500,22052521,22052524,22052502,22052519,1163980]},%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.95",perfTarget:"4.00",tests:[22052500,22052521,22052524,22052502,22052519,1163980],composite:!1,description:"Single test for www.autotrader.com Homepage"},{name:"ATC Mobile",page_id:"9999002",dataURI:["sc_daily_composite",9999002],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=  9999002,%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.95",perfTarget:"3.00",tests:[22088430,22088545,22088544],composite:!0,description:"ATC Mobile represents a composite score obtained by testing for the FYC, SRP, and VDP tests on the m.autotrader.com website."},{name:"ATC SYC",page_id:"9999003",dataURI:["composite_sc_daily",9999003],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=     [9999003,22060042,23057000]},%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.95",perfTarget:"7.50",tests:[22060042,23057e3],composite:!0,description:"ATC SYC test is comprised of a 2 step transaction that starts from the sell.autotrader.com package selection page and ends at the Vehicle Details form entry page."},{name:"ATX",page_id:"1171430",dataURI:["daily",[22055838,1171430,1483705]],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=     [22055838,1171430]},%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.95",perfTarget:"6.00",tests:[22055838],composite:!1,description:"Home page for AutoTrader Classics Website - www.autotraderclassics.com"},{name:"Dealer Site",page_id:"9999005",dataURI:["sc_daily_composite",9999005],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=  9999005,%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.95",perfTarget:"6.25",tests:[22088209,22052468],composite:!0,description:"AutoTrader Dealersite is a 3 step transaction that logins into dealers.autotrader.com and than hits the Dashboard and Inventory listing pages."},{name:"Customer Care",page_id:"9999004",dataURI:["composite_sc_daily",9999004],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=     [9999004,22052472,22059927]},%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.90",perfTarget:"9.00",tests:[22052470,22052472,22059927],composite:!1,description:"The Fastlane test is a multi-step transaction that logins into fastlane.autotrader.com and performs a Dealer search and validates some of the primary functions including eSO Contracts and Feature Manager, plus tests for the Microsoft CRM dynamics sites"},{name:"KBB Home",page_id:"831929",dataURI:["daily",[22064605,831929,1247661]],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=  831929,%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.50",perfTarget:"5.50",tests:[22064605,831929,1247661],composite:!1,description:"Hits the KBB home page on www.kbb.com website."},{name:"KBB Classifieds",page_id:"1079961",dataURI:["daily",[22064558,1079961,2130445]],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=  1079961,%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.50",perfTarget:"6.00",tests:[22064558,1079961,2130445],composite:!1,description:"Hits the KBB used cars for sales page on www.kbb.com website."},{name:"KBB LeadDriver",page_id:"23202479",dataURI:["daily",23202479],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=  23202479,%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.50",perfTarget:"3.00",tests:[23202479],composite:!1,description:"Call to 'Get Year' Lead Driver Service Page"},{name:"KBB InfoDriver",page_id:"22064761",dataURI:["daily",22064761],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=  22064761,%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.95",perfTarget:"1.00",tests:[22064761],composite:!1,description:"Call to 'GetMakesByYear' method at InfoDriver Web Service"},{name:"KBB KarPower",page_id:"22065358",dataURI:["daily",[22065358,22065001]],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=  22065358,%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.50",perfTarget:"10.00",tests:[22065358,22065001],composite:!1,description:"Multipage call to Karpower, Login, Lookup Pre-Owned Car In Inventory"},{name:"KBB QuickValues",page_id:"22064844",dataURI:["daily",22064844],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=  22064844,%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.95",perfTarget:"2.00",tests:[22064844],composite:!1,description:"Gomez call to www.quickvalues.com home login page."},{name:"KBB Control Modes",page_id:"22064577",dataURI:["daily",22064577],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=  22064577,%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.95",perfTarget:"0.50",tests:[22064577],composite:!1,description:"Gomez call to custom monitor page for Control Modes Service"},{name:"KBB Price Advisor",page_id:"22537449",dataURI:["daily",22537449],notesURI:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query=  22537449,%22opened_at%22:{%22$gte%22:%22fromThis%22,%22$lte%22:%22toThis%22}}&sort=opened_at",trendingURI:"assets/json/atctrendingdata.json",availTarget:"99.95",perfTarget:"4.00",tests:[22537449],composite:!1,description:"Gomez call to customer monitor page for Syndicated Price Advisor"}]};g.units.forEach(function(a){({product:a.name,availTarget:a.availTarget,availability:{status:"",avail:""},p1:"",availTrend:"",perfTarget:a.perfTarget,performance:{status:"",avail:""},perfTrend:"",notes:!1,trending:!0});console.log("test21"),c.get(a.dataURI[0],d.getFrom(),d.getTo(),a.dataURI[1]).then(function(a){console.log("test"),console.log(a)})}),a.summaryChartData=[{product:"HomeNet",availTarget:"99.50",availability:{status:e,avail:99.98},p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:{status:f,avail:99.98},perfTrend:"GRAPH2",notes:!0,trending:!0},{product:"HomeNet",availTarget:"99.50",availability:{status:e,avail:99.98},p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:{status:f,avail:99.98},perfTrend:"GRAPH2",notes:!1,trending:!0},{product:"HomeNet",availTarget:"99.50",availability:{status:e,avail:99.98},p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:{status:f,avail:99.98},perfTrend:"GRAPH2",notes:!1,trending:!1},{product:"HomeNet",availTarget:"99.50",availability:{status:e,avail:99.98},p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:{status:f,avail:99.98},perfTrend:"GRAPH2",notes:!0,trending:!0},{product:"HomeNet",availTarget:"99.50",availability:{status:e,avail:99.98},p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:{status:f,avail:99.98},perfTrend:"GRAPH2",notes:!0,trending:!1}],a.impactsData=[],c.get("incidents",moment(d.getFrom()).format("ddd, gg MMM YYYY HH:mm:ss")+" GMT",moment(d.getTo()).format("ddd, gg MMM YYYY HH:mm:ss")+" GMT",["AutoTrader.com","AutoTrader Group","Kelley Blue Book"]).then(function(b){b._items.forEach(function(b){a.impactsData.push({status:b.status,details:{title:b.title,type:b.type,begin:moment(b.begin).format("MMM DD, YYYY h:mm:ss A"),end:moment(b.end).format("MMM DD, YYYY h:mm:ss A"),description:b.summary}})})});var h=[[22052500,22052521,22052524,22052502,22052519,1163980],9999002,[9999003,22060042,23057e3],[22055838,1171430],9999005,[9999004,22052472,22059927],[831929,1079961,23202479,22064761],[22065358,22064844,22064577,22537449,1136342],[1127484,1127491,1127489,9999006,1136831],[161e4,1653530,9999007,9999008],[1860110,1860070,1860080,1860020],[1860060,1860100,1860090,1860010],[1860030,1860050,1860040,186e4]];a.notesData=[],a.predicate="date_sort",a.reverse=!0,a.order=function(b){a.reverse=a.predicate===b?!a.reverse:!1,a.predicate=b},h.forEach(function(b){c.get("daily_notes",moment(d.getFrom()).format("YYYY-MM-DD"),moment(d.getTo()).format("YYYY-MM-DD"),b,1).then(function(b){b.forEach(function(b){var c={date:moment(b.opened_at).format("MM/DD/YYYY"),date_sort:b.opened_at,unit:b.unit,description:b.description};a.notesData.push(c)})})})}]),angular.module("itscApp").controller("SoftwareCtrl",["$scope","getPageInfo",function(a,b){a.pageTitle="Software Division",a.icon=b.get(a.pageTitle,"icon"),a.severity={green:{icon:"glyphicon-ok",color:"#00B200"},yellow:{icon:"glyphicon-warning-sign",color:"#FFCC00"},red:{icon:"glyphicon-remove",color:"#db1818"}},a.summaryChartData=[{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"},{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"},{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"}],a.impactsData=[{status:"green",details:{title:"VinSolutions - Sev 2 VinSolutions.com",type:"degradation",begin:"Dec 31, 2015 5:09:00 AM",end:"Dec 31, 2015 6:42:00 AM",description:"From 5:09 A.M. until 6:42 A.M. EST, some users trying to access VinSolutions.com were intermittently failing. The support team determined this was a license key issue and updated the key on the server to resolve the issue."}},{status:"red",details:{title:"Manheim - Manheim Lafayette not showing in sale schedule or PowerSearch",type:"degradation",begin:"Dec 30, 2015 10:30:00 AM",end:"Dec 31, 2015 10:45:00 AM",description:"From approximately 10 A.M EST on 12/30 to 10:45 A.M on 12/31, the Manheim Lafayette auction was not showing up in the Manheim.com sales schedule or PowerSearch results. This likely had some impact on the auctions 10:30 A.M. sale. There were however two other paths for accessing the vehicles in the sale reducing the impact. The response team found that Lafayette had been disabled in the Manheim.com taxonomy. The auction was enabled to restore service."}}],a.notesData=[{date:"12/14/2015",unit:"Fastlane Dealer Services",description:"Gomez reports 1 failures which include: 31002 page soft timeout"},{date:"12/14/2015",unit:"ATC - Search Results",description:"Gomez reports 4 failures which include: 30500 content mismatch, 31002 page soft timeout"},{date:"12/14/2015",unit:"SYC - Select Ad",description:"Gomez reports 1 failures: 12013 dns lookup failure"},{date:"12/12/2015",unit:"SYC - Select Ad",description:"Gomez reports 2 failures which include: 31002 page soft timeout"},{date:"12/12/2015",unit:"SYC - Additional Test",description:"Gomez reports 4 failures which include: 30500 content mismatch, 31002 page soft timeout"},{date:"12/12/2015",unit:"Dealer Site",description:"Gomez reports 2 failures which include: 500 server error"}]}]),angular.module("itscApp").controller("EnterpriseCtrl",["$scope","getPageInfo",function(a,b){a.pageTitle="Enterprise Division",a.icon=b.get(a.pageTitle,"icon"),a.severity={green:{icon:"glyphicon-ok",color:"#00B200"},yellow:{icon:"glyphicon-warning-sign",color:"#FFCC00"},red:{icon:"glyphicon-remove",color:"#db1818"}},a.summaryChartData=[{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"},{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"},{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"},{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"}],a.impactsData=[{status:"yellow",details:{title:"Manheim - Multiple Manheim Auction Phone Outage",type:"degradation",begin:"Jan 02, 2016 7:51:27 AM",end:"Jan 02, 2016 12:05:50 PM",description:"From 7:51 A.M. to 12:05 P.M. EST, Multiple Manheim auctions (AYCA, DALA, DFWA, CFAA, TBAA, and WPBA) were unable to receive inbound calls. This was caused by a raid controller failure in the VM infrastructure and was compounded by an additional failure of the Cisco Cube device to reroute traffic to redundant infrastructure. The call routing was manually moved to the redundant server to restore service. The failed hardware has since been replaced and the environment has returned to normal. Additional followups are ongoing around the failure of redundancy and the lack of monitoring."}},{status:"green",details:{title:"VinSolutions - Sev 2 VinSolutions.com",type:"degradation",begin:"Dec 31, 2015 5:09:00 AM",end:"Dec 31, 2015 6:42:00 AM",description:"From 5:09 A.M. until 6:42 A.M. EST, some users trying to access VinSolutions.com were intermittently failing. The support team determined this was a license key issue and updated the key on the server to resolve the issue."}},{status:"red",details:{title:"Manheim - Manheim Lafayette not showing in sale schedule or PowerSearch",type:"degradation",begin:"Dec 30, 2015 10:30:00 AM",end:"Dec 31, 2015 10:45:00 AM",description:"From approximately 10 A.M EST on 12/30 to 10:45 A.M on 12/31, the Manheim Lafayette auction was not showing up in the Manheim.com sales schedule or PowerSearch results. This likely had some impact on the auctions 10:30 A.M. sale. There were however two other paths for accessing the vehicles in the sale reducing the impact. The response team found that Lafayette had been disabled in the Manheim.com taxonomy. The auction was enabled to restore service."}}],a.notesData=[{date:"12/16/2015",unit:"Dealer Site",description:"Gomez reports 1 failures which include: 30500 content mismatch"},{date:"12/14/2015",unit:"Fastlane Dealer Services",description:"Gomez reports 1 failures which include: 31002 page soft timeout"},{date:"12/14/2015",unit:"ATC - Search Results",description:"Gomez reports 4 failures which include: 30500 content mismatch, 31002 page soft timeout"},{date:"12/14/2015",unit:"SYC - Select Ad",description:"Gomez reports 1 failures: 12013 dns lookup failure"},{date:"12/12/2015",unit:"SYC - Select Ad",description:"Gomez reports 2 failures which include: 31002 page soft timeout"},{date:"12/12/2015",unit:"SYC - Additional Test",description:"Gomez reports 4 failures which include: 30500 content mismatch, 31002 page soft timeout"},{date:"12/12/2015",unit:"Dealer Site",description:"Gomez reports 2 failures which include: 500 server error"}]}]),angular.module("itscApp").controller("AuctionsCtrl",["$scope","getPageInfo",function(a,b){a.pageTitle="North America Auctions",a.icon=b.get(a.pageTitle,"icon"),a.severity={green:{icon:"glyphicon-ok",color:"#00B200"},yellow:{icon:"glyphicon-warning-sign",color:"#FFCC00"},red:{icon:"glyphicon-remove",color:"#db1818"}},a.summaryChartData=[{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"},{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"},{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"},{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"},{product:"HomeNet",availTarget:"99.50",availability:"! 99.98",p1:"0",availTrend:"GRAPH1",perfTarget:"3.00",performance:"1.97",perfTrend:"GRAPH2",notes:"BUTTON1",trending:"BUTTON2"}],a.impactsData=[{status:"green",details:{title:"Vinsoloutions - VinSolutions hosted Email Issue",type:"degradation",begin:"Jan 04, 2016 4:00:00 AM",end:"Jan 04, 2016 6:05:00 AM",description:"From 4 A.M to 6:05 A.M EST, a hardware failure impacted one of the AWS instances hosting VIN customer E-mail on the Smarter mail platform. As a result the subset of customers located on the instance could not access VIN hosted E-mail. AWS moved the impacted customers to another instance to end the impact."}},{status:"yellow",details:{title:"Manheim - Multiple Manheim Auction Phone Outage",type:"degradation",begin:"Jan 02, 2016 7:51:27 AM",end:"Jan 02, 2016 12:05:50 PM",description:"From 7:51 A.M. to 12:05 P.M. EST, Multiple Manheim auctions (AYCA, DALA, DFWA, CFAA, TBAA, and WPBA) were unable to receive inbound calls. This was caused by a raid controller failure in the VM infrastructure and was compounded by an additional failure of the Cisco Cube device to reroute traffic to redundant infrastructure. The call routing was manually moved to the redundant server to restore service. The failed hardware has since been replaced and the environment has returned to normal. Additional followups are ongoing around the failure of redundancy and the lack of monitoring."}},{status:"green",details:{title:"VinSolutions - Sev 2 VinSolutions.com",type:"degradation",begin:"Dec 31, 2015 5:09:00 AM",end:"Dec 31, 2015 6:42:00 AM",description:"From 5:09 A.M. until 6:42 A.M. EST, some users trying to access VinSolutions.com were intermittently failing. The support team determined this was a license key issue and updated the key on the server to resolve the issue."}},{status:"red",details:{title:"Manheim - Manheim Lafayette not showing in sale schedule or PowerSearch",type:"degradation",begin:"Dec 30, 2015 10:30:00 AM",end:"Dec 31, 2015 10:45:00 AM",description:"From approximately 10 A.M EST on 12/30 to 10:45 A.M on 12/31, the Manheim Lafayette auction was not showing up in the Manheim.com sales schedule or PowerSearch results. This likely had some impact on the auctions 10:30 A.M. sale. There were however two other paths for accessing the vehicles in the sale reducing the impact. The response team found that Lafayette had been disabled in the Manheim.com taxonomy. The auction was enabled to restore service."}}],a.notesData=[{date:"12/16/2015",unit:"ATC Mobile",description:"Gomez reports 32 failures which include: 30500 content mismatch, 31002 page soft timeout"},{date:"12/16/2015",unit:"Dealer Site",description:"Gomez reports 1 failures which include: 30500 content mismatch"},{date:"12/14/2015",unit:"Fastlane Dealer Services",description:"Gomez reports 1 failures which include: 31002 page soft timeout"},{date:"12/14/2015",unit:"ATC - Search Results",description:"Gomez reports 4 failures which include: 30500 content mismatch, 31002 page soft timeout"},{date:"12/14/2015",unit:"SYC - Select Ad",description:"Gomez reports 1 failures: 12013 dns lookup failure"},{date:"12/12/2015",unit:"SYC - Select Ad",description:"Gomez reports 2 failures which include: 31002 page soft timeout"},{date:"12/12/2015",unit:"SYC - Additional Test",description:"Gomez reports 4 failures which include: 30500 content mismatch, 31002 page soft timeout"},{date:"12/12/2015",unit:"Dealer Site",description:"Gomez reports 2 failures which include: 500 server error"}]}]),angular.module("itscApp").controller("AdditionalCtrl",["$scope","getPageInfo",function(a,b){a.pageTitle="Additional Information",a.icon=b.get(a.pageTitle,"icon")}]),angular.module("itscApp").controller("DatepickerCtrl",["$scope","$rootScope","Dates",function(a,b,c){function d(){return e.width()<730&&e.width()>450?f.css("margin-left",function(){return(e.width()-450)/2}):e.width()>=730&&e.width()<768?f.css("margin-left",140):f.css("margin-left",0)}a.getInitialDates=function(){a.dateFrom=moment().add(-1,"M").toDate(),a.dateTo=moment().toDate(),c.setFrom(a.dateFrom),c.setTo(a.dateTo)},a.getInitialDates(),a.dateUpdateClick=function(){c.setFrom(a.dateFrom),c.setTo(a.dateTo),b.$broadcast("reload")},a.dateResetClick=function(){a.dateFrom=moment().add(-1,"M").toDate(),a.dateTo=moment().toDate(),c.setFrom(a.dateFrom),c.setTo(a.dateTo),b.$broadcast("reload")};var e=$(window),f=$(".date-container");e.resize(d).trigger("resize")}]),angular.module("itscApp").directive("datePicker",function(){return{templateUrl:"views/datepicker.html",restrict:"E"}}),angular.module("itscApp").directive("toggleClass",function(){return{restrict:"A",link:function(a,b,c){b.bind("click",function(){var a=c.toggleClass.split(" ")[0],b=c.toggleClass.split(" ")[1];$("#"+b).toggleClass(a)})}}}),angular.module("itscApp").directive("menu",function(){return{templateUrl:"views/menu.html",restrict:"E"}}),angular.module("itscApp").directive("pageTitle",function(){return{templateUrl:"views/pagetitle.html",restrict:"E"}}),angular.module("itscApp").directive("summaryChart",function(){return{templateUrl:"views/summarychart.html",restrict:"E"}}),angular.module("itscApp").directive("impactsChart",function(){return{templateUrl:"views/impactschart.html",restrict:"E"}}),angular.module("itscApp").directive("notesChart",function(){return{templateUrl:"views/noteschart.html",restrict:"E"}}),angular.module("itscApp").directive("summaryButtons",function(){return{templateUrl:"views/summarybuttons.html",restrict:"E"}}),angular.module("itscApp").directive("summaryTitle",function(){return{templateUrl:"views/summarytitle.html",restrict:"E"}}),angular.module("itscApp").factory("getPageInfo",["pages",function(a){return{get:function(b,c){if(b){if(b&&!c){var d=$.grep(a,function(a){return a.name===b});return d[0]}var e=$.grep(a,function(a){return a.name===b});return e[0][c]}return a}}}]),angular.module("itscApp").factory("Dates",function(){var a={fromDate:"",toDate:""};return{setFrom:function(b){a.fromDate=b},getFrom:function(){return a.fromDate},setTo:function(b){a.toDate=b},getTo:function(){return a.toDate}}}),angular.module("itscApp").value("creds",["serebro_admin","min-irf-yaW-Wok-urN-oR-hAuv-yAnd-Yib"]).value("pages",[{name:"Summary",icon:"glyphicon-dashboard",link:"summary"},{name:"Digital Media",icon:"glyphicon-modal-window",link:"digital"},{name:"Software Division",icon:"glyphicon-floppy-disk",link:"software"},{name:"Enterprise Division",icon:"glyphicon-equalizer",link:"enterprise"},{name:"North America Auctions",icon:"glyphicon-bullhorn",link:"auctions"},{name:"Additional Information",icon:"glyphicon-th",link:"additional"}]),angular.module("itscApp").factory("itscData",["$q","$http","creds","CacheFactory",function(a,b,c,d){function e(a,b,c,d,e){var g=f[a],h="";if("incidents"===a&&(e&&(g+='"type":"{0}",'.format(e)),d?(h=JSON.stringify(d),g+='"unit":{"$in":{0}},"begin":{"$gte":"{1}","$lte":"{2}"}}'.format(h,b,c)):g+='"begin":{"$gte":"{0}","$lte":"{1}"}}&sort=[("begin",-1)]&max_results=100'.format(b,c)),"daily_notes"===a&&(e&&(g+=Array.isArray(d)?'"page_id":{"$in":[{0}]},'.format(d):'"page_id":{0},'.format(d)),g+='"opened_at":{"$gte":"{0}","$lte":"{1}"}}&sort=opened_at'.format(b,c)),"daily"===a){var i=moment(b).format("YYYY-MM-DD")+" GMT",j=moment(c).format("YYYY-MM-DD")+" GMT";Array.isArray(d)?(h=JSON.stringify(d),g+='"page_id":{"$in":{0}},"date":{"$gte":"{1}","$lte":"{2}"}}&sort=date'.format(h,i,j)):(h=JSON.stringify(d),g+='"page_id":{0},"date":{"$gte":"{1}","$lte":"{2}"}}&sort=date'.format(h,i,j))}return"sc_daily_composite"===a&&(g+='"page_id":{0},"date":{"$gte":"{1}","$lte":"{2}"}}&sort=date'.format(d,b,c)),"composite_sc_daily"===a&&(g+='"page_id":{0},"date":{"$gte":"{1}","$lte":"{2}"}}&sort=date'.format(d,b,c)),g}String.prototype.format=function(){for(var a=this,b=0;b<arguments.length;b++){var c="{"+b+"}";a=a.replace(c,arguments[b])}return a},d.get("itscDataCache")||d.createCache("itscDataCache",{maxAge:3e5,deleteOnExpire:"aggressive"});var f={incidents:"https://itsc.autotrader.com:8080/incidents?where={",daily:"https://itsc.autotrader.com:3000/scorecard/daily?query={",daily_notes:"https://itsc.autotrader.com:3000/scorecard/daily_notes?query={",sc_daily_composite:"https://itsc.autotrader.com:3000/scorecard/daily_composite?query={",composite_sc_daily:"https://itsc.autotrader.com:3000/composite/scorecard/daily?query={"};return{get:function(f,g,h,i,j){f="undefined"!=typeof f?f:"",g="undefined"!=typeof g?g:"",h="undefined"!=typeof h?h:"",i="undefined"!=typeof i?i:"",j="undefined"!=typeof j?j:"";var k,l=e(f,g,h,i,j),m=String(f)+String(g+h)+String(i)+String(j),n=a.defer(),o=d.get("itscDataCache");return o.get(m)&&(k=o.get(m)),k?n.resolve(k):(b.defaults.headers.common.Authorization="Basic "+btoa(c[0]+":"+c[1]),b.get(l).success(function(a){o.put(m,a),n.resolve(a)})),n.promise}}}]),angular.module("itscApp").run(["$templateCache",function(a){a.put("views/additional.html","<div> <page-title></page-title> </div>"),a.put("views/auctions.html","<div> <page-title></page-title> <summary-title></summary-title> <summary-chart></summary-chart> <impacts-chart></impacts-chart> <notes-chart></notes-chart> </div>"),a.put("views/datepicker.html",'<div class="container dateinputs" ng-controller="DatepickerCtrl"> <div class="col-sm-4"> <input type="date" class="form-control" uib-datepicker-popup ng-model="dateFrom" datepicker-options="dateOptions" ng-required="true"> </div> <div class="col-sm-4"> <input type="date" class="form-control" uib-datepicker-popup ng-model="dateTo" datepicker-options="dateOptions" ng-required="true"> </div> <div class="col-sm-4"> <button type="button" class="btn btn-md btn-default" id="Update" ng-click="dateUpdateClick()">Update</button> <button type="button" class="btn btn-md btn-default" id="Reset" ng-click="dateResetClick()">Reset</button> </div> </div>'),a.put("views/digital.html","<div> <page-title></page-title> <summary-title></summary-title> <summary-chart></summary-chart> <impacts-chart></impacts-chart> <notes-chart></notes-chart> </div>"),a.put("views/enterprise.html","<div> <page-title></page-title> <summary-title></summary-title> <summary-chart></summary-chart> <impacts-chart></impacts-chart> <notes-chart></notes-chart> </div>"),a.put("views/impactschart.html",'<div class="section-heading">Service Impact</div> <table id="impact-chart"> <thead> <tr> <th>Status</th> <th>Details</th> </tr> </thead> <tbody> <tr ng-repeat="rowData in impactsData | orderBy:\'order\':true"> <td class="status"> <span class="glyphicon {{severity[rowData.status].icon}} icon" style="color: {{severity[rowData.status].color}}"></span><div>{{rowData.status}}</div> </td> <td> <div class="head"> {{rowData.details.title}} </div> <div class="details"> <b>Type: </b>{{rowData.details.type}} <span class="pipes">||</span> <b>Begin: </b>{{rowData.details.begin}} <span class="pipes">||</span> <b>End: </b>{{rowData.details.end}} </div> {{rowData.details.description}} </td> </tr> </tbody> </table>'),
a.put("views/menu.html",'<div id="sidebar-wrapper" ng-controller="MenuCtrl"> <ul id="sidebar_menu" class="sidebar-nav"> <li class="sidebar-brand"> <a id="menu-toggle" toggle-class="active wrapper">Menu<span id="main_icon" class="glyphicon glyphicon-align-justify"></span></a> </li> </ul> <ul class="sidebar-nav" id="sidebar" ng-repeat="menuItem in menuItems"> <li> <a href="#/{{menuItem.link}}">{{menuItem.name}}<span class="sub_icon glyphicon {{menuItem.icon}}"></span></a> </li> </ul> </div>'),a.put("views/noteschart.html",'<div class="section-heading">Notes</div> <table id="notes-chart"> <thead> <tr> <th ng-click="order(\'date_sort\')"> Date <span ng-show="predicate === \'date_sort\' && reverse" class="glyphicon glyphicon-chevron-down"></span> <span ng-show="predicate === \'date_sort\' && !reverse" class="glyphicon glyphicon-chevron-up"></span> </th> <th ng-click="order(\'unit\')"> Unit <span ng-show="predicate === \'unit\' && reverse" class="glyphicon glyphicon-chevron-down"></span> <span ng-show="predicate === \'unit\' && !reverse" class="glyphicon glyphicon-chevron-up"></span> </th> <th>Description</th> </tr> </thead> <tbody> <tr ng-repeat="rowData in notesData | orderBy:predicate:reverse"> <td>{{rowData.date}}</td> <td>{{rowData.unit}}</td> <td>{{rowData.description}}</td> </tr> </tbody> </table>'),a.put("views/pagetitle.html",'<div class="page-title"><span class="glyphicon {{icon}}"></span> {{pageTitle}}</div>'),a.put("views/software.html","<div> <page-title></page-title> <summary-title></summary-title> <summary-chart></summary-chart> <impacts-chart></impacts-chart> <notes-chart></notes-chart> </div>"),a.put("views/summary.html","<div> <page-title></page-title> <summary-title></summary-title> <summary-buttons></summary-buttons> <impacts-chart></impacts-chart> </div>"),a.put("views/summarybuttons.html",'<div class="container-fluid" id="summary-buttons"> <div class="summary-button col-xs-6 col-md-3" ng-repeat="buttonInfo in buttonData"> <div class="sb-inner" style="border-color: {{severity[buttonInfo.severity].color}}; box-shadow: 0 0 58px {{severity[buttonInfo.severity].color}} inset"> <a href="#/{{buttonInfo.link}}"> <div id="title">{{buttonInfo.title}}</div> <div id="uptime"> <span class="glyphicon {{severity[buttonInfo.severity].icon}}" id="icon" style="color: {{severity[buttonInfo.severity].color}}"> </span><span>{{buttonInfo.uptime}}%</span> </div> <div id="impacts">Impact: {{buttonInfo.impacts}}</div> <div id="mttr">MTTR: {{buttonInfo.mttr}} min</div> </a> </div> </div> </div>'),a.put("views/summarychart.html",'<table id="summary-chart"> <thead> <tr> <th>Product</th> <th>Target</th> <th>Availability</th> <th>P1</th> <th>Avail Target</th> <th>Target</th> <th>Performance</th> <th>Perf Trend</th> <th>Notes</th> <th>Trending</th> </tr> </thead> <tbody> <tr ng-repeat="rowData in summaryChartData"> <td>{{rowData.product}}</td> <td>{{rowData.availTarget}}</td> <td> <span class="glyphicon {{severity[rowData.availability.status].icon}} icon" style="color: {{severity[rowData.availability.status].color}}"></span> {{rowData.availability.avail}} </td> <td>{{rowData.p1}}</td> <td>{{rowData.availTrend}}</td> <td>{{rowData.perfTarget}}</td> <td> <span class="glyphicon {{severity[rowData.performance.status].icon}} icon" style="color: {{severity[rowData.performance.status].color}}"></span> {{rowData.performance.avail}} </td> <td>{{rowData.perfTrend}}</td> <td style="width:60px"> <button ng-if="rowData.notes" type="button" class="btn btn-default sumBtn"> <span class="glyphicon glyphicon-file icon"></span> Notes </button> </td> <td style="width:60px"> <button ng-if="rowData.trending" type="button" class="btn btn-default sumBtn"> <span class="glyphicon glyphicon-tasks icon"></span> QtrView </button> </td> </tr> </tbody> </table>'),a.put("views/summarytitle.html",'<div class="section-heading">{{summaryText ? summaryText : pageTitle}} Summary</div>')}]);